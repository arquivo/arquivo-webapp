<assembly>
  <id>job</id>
  <formats>
    <format>jar</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>../nutchwax-plugins/target/wax-plugins</directory>
      <outputDirectory>/wax-plugins</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>../src/plugin/parse-waxext/bin</directory>
      <outputDirectory>/bin</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>..</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>
            README* 
        </include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../conf</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>log4j.properties</include>
        <include>wax-parse-plugins.xml</include>
        <include>wax-default.xml</include>
        <include>regex-normalize.xml</include>
        <include>regex-urlfilter.txt</include>
        <!-- TODO MC -->
        <include>arquivoweb-regex-normalize.xml</include>
        <include>arquivoweb-regex-urlfilter.txt</include>
        <!-- TODO MC -->
      </includes>
    </fileSet>
    <fileSet>
      <directory>../nutchwax-thirdparty/nutch/build/plugins</directory>
      <outputDirectory>/plugins</outputDirectory>
      <includes>
        <include>analysis-*/**</include>
        <include>index-*/**</include>
        <include>language-*/**</include>
        <include>lib-*/**</include>
        <include>nutch-*/**</include>
        <include>scoring-*/**</include>
        <include>query-*/**</include>
        <include>summary-*/**</include>
        <include>urlfilter-*/**</include>
        <include>urlnormalizer-*/**</include>
        <include>parse-*/**</include>
      </includes>
      <excludes>
        <exclude>parse-js/**</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>../nutchwax-thirdparty/nutch/conf</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>mime-types.xml</include>
        <include>nutch-default.xml</include>
        <include>nutch-site.xml</include>
        <include>common-terms.utf8</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>../nutchwax-thirdparty/nutch/lib</directory>
      <outputDirectory>/lib</outputDirectory>
      <includes>
        <include>commons-lang*</include>
        <include>lucene*</include>
        <include>jakarta-oro*</include>
        <include>xerces*</include>
        <include>concurrent*</include>
        <include>archive-commons*</include>
      </includes>
    </fileSet>
    <!--
    <fileSet>
      <directory>../nutchwax-thirdparty/nutch/build</directory>
      <outputDirectory>/lib</outputDirectory>
      <includes>
        <include>nutch*jar</include>
      </includes>
    </fileSet>

        I used to add in the nutchwax-core jar but when I do that,
        running in distributed mode, ClassNotFound issues.  It
        starts with not being able to find nutch classes and then
        even if I put the nutch jar in $HADOOP_HOME/lib, then it
        cannot find the content of archive-mapred jar.  Including
        the nutchwax-core classes seems to do the trick (Its how
        it was done before move to m2).  Seems like I also have
        to do same for the nutch classes else things will not work.
    -->
    <fileSet>
      <directory>../nutchwax-thirdparty/nutch/build/classes</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>../nutchwax-core/target/classes</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
  </fileSets>
  <dependencySets>
    <dependencySet>
      <outputDirectory>/lib</outputDirectory>
      <excludes>
        <exclude>commons-cli:commons-cli</exclude>
        <exclude>commons-collections:commons-collections</exclude>
        <exclude>commons-pool:commons-pool</exclude>
        <exclude>commons-logging:commons-logging</exclude>
        <exclude>org.apache:hadoop</exclude>
        <exclude>org.apache:nutch</exclude>
        <exclude>org.apache:nutch</exclude>
        <exclude>com.sleepycat:je</exclude>
        <exclude>junit:junit</exclude>
        <exclude>javax.servlet:servlet-api</exclude>
        <exclude>org.archive.nutchwax:nutchwax-thirdparty</exclude>
        <exclude>org.archive.nutchwax:nutchwax-plugins</exclude>
        <exclude>org.archive.nutchwax:nutchwax-core</exclude>
        <exclude>org.apache.lucene:lucene-core</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>
</assembly>
