import{n as t,p as e}from"./p-d102c9d1.js";function n(n){let r,d,l,u,f=10*-a,v=0;const p=n.getBoolean("animated",!0)&&n.getBoolean("rippleEffect",!0),m=new WeakMap;function L(e){f=t(e),w(e)}function E(){clearTimeout(u),u=void 0,d&&(T(!1),d=void 0)}function h(t){d||void 0!==r&&null!==r.parentElement||(r=void 0,g(function(t){if(!t.composedPath)return t.target.closest(".ion-activatable");{const e=t.composedPath();for(let t=0;t<e.length-2;t++){const n=e[t];if(n.classList&&n.classList.contains("ion-activatable"))return n}}}(t),t))}function w(t){g(void 0,t)}function g(t,n){if(t&&t===d)return;clearTimeout(u),u=void 0;const{x:c,y:a}=e(n);if(d){if(m.has(d))throw new Error("internal error");d.classList.contains(i)||S(d,c,a),T(!0)}if(t){const e=m.get(t);e&&(clearTimeout(e),m.delete(t));const n=o(t)?0:s;t.classList.remove(i),u=setTimeout(()=>{S(t,c,a),u=void 0},n)}d=t}function S(t,e,n){v=Date.now(),t.classList.add(i);const o=p&&function(t){if(t.shadowRoot){const e=t.shadowRoot.querySelector("ion-ripple-effect");if(e)return e}return t.querySelector("ion-ripple-effect")}(t);o&&o.addRipple&&(l=o.addRipple(e,n))}function T(t){void 0!==l&&l.then(t=>t());const e=d;if(!e)return;const n=c-Date.now()+v;if(t&&n>0&&!o(e)){const t=setTimeout(()=>{e.classList.remove(i),m.delete(e)},c);m.set(e,t)}else e.classList.remove(i)}const R=document;R.addEventListener("ionScrollStart",t=>{r=t.target,E()}),R.addEventListener("ionScrollEnd",()=>{r=void 0}),R.addEventListener("ionGestureCaptured",E),R.addEventListener("touchstart",function(e){f=t(e),h(e)},!0),R.addEventListener("touchcancel",L,!0),R.addEventListener("touchend",L,!0),R.addEventListener("mousedown",function(e){const n=t(e)-a;f<n&&h(e)},!0),R.addEventListener("mouseup",function(e){const n=t(e)-a;f<n&&w(e)},!0)}function o(t){return t.classList.contains("ion-activatable-instant")}const i="activated",s=200,c=200,a=2500;export{n as startTapClick};